{"version":3,"file":"uniqolor.min.js","sources":["../src/index.js"],"sourcesContent":["const SATURATION_BOUND = [0, 100];\nconst LIGHTNESS_BOUND = [0, 100];\n\nconst pad2 = str => `${str.length === 1 ? '0' : ''}${str}`;\n\nconst clamp = (num, min, max) => Math.max(Math.min(num, max), min);\n\nconst random = (min, max) => Math.floor(Math.random() * ((max - min) + 1)) + min;\n\nconst randomExclude = (min, max, exclude) => {\n  const r = random(min, max);\n\n  for (let i = 0; i < exclude?.length; i++) {\n    const value = exclude[i];\n\n    if (value?.length === 2 && r >= value[0] && r <= value[1]) {\n      return randomExclude(min, max, exclude);\n    }\n  }\n\n  return r;\n};\n\n/**\n * Generate hashCode\n * @param  {string} str\n * @return {number}\n */\nconst hashCode = str => {\n  const len = str.length;\n  let hash = 0;\n\n  for (let i = 0; i < len; i++) {\n    hash = ((hash << 5) - hash) + str.charCodeAt(i);\n    hash &= hash; // Convert to 32bit integer\n  }\n\n  return hash;\n};\n\n/**\n* Clamps `num` within the inclusive `range` bounds\n* @param  {number}       num\n* @param  {number|Array} range\n* @return {number}\n*/\nconst boundHashCode = (num, range) => {\n  if (typeof range === 'number') {\n    return range;\n  }\n\n  return (num % Math.abs(range[1] - range[0])) + range[0];\n};\n\n/**\n * Sanitizing the `range`\n * @param  {number|Array} range\n * @param  {Array}        bound\n * @return {number|Array}\n */\nconst sanitizeRange = (range, bound) => {\n  if (typeof range === 'number') {\n    return clamp(Math.abs(range), ...bound);\n  }\n\n  if (range.length === 1 || range[0] === range[1]) {\n    return clamp(Math.abs(range[0]), ...bound);\n  }\n\n  return [\n    Math.abs(clamp(range[0], ...bound)),\n    clamp(Math.abs(range[1]), ...bound),\n  ];\n};\n\n/**\n * @param  {number} p\n * @param  {number} q\n * @param  {number} t\n * @return {number}\n */\nconst hueToRgb = (p, q, t) => {\n  if (t < 0) {\n    t += 1;\n  } else if (t > 1) {\n    t -= 1;\n  }\n\n  if (t < 1 / 6) {\n    return p + ((q - p) * 6 * t);\n  }\n\n  if (t < 1 / 2) {\n    return q;\n  }\n\n  if (t < 2 / 3) {\n    return p + ((q - p) * ((2 / 3) - t) * 6);\n  }\n\n  return p;\n};\n\n/**\n * Converts an HSL color to RGB\n * @param  {number} h Hue\n * @param  {number} s Saturation\n * @param  {number} l Lightness\n * @return {Array}\n */\nconst hslToRgb = (h, s, l) => {\n  let r;\n  let g;\n  let b;\n\n  h /= 360;\n  s /= 100;\n  l /= 100;\n\n  if (s === 0) {\n    // achromatic\n    r = g = b = l;\n  } else {\n    const q = l < 0.5\n      ? l * (1 + s)\n      : (l + s) - (l * s);\n    const p = (2 * l) - q;\n\n    r = hueToRgb(p, q, h + (1 / 3));\n    g = hueToRgb(p, q, h);\n    b = hueToRgb(p, q, h - (1 / 3));\n  }\n\n  return [\n    Math.round(r * 255),\n    Math.round(g * 255),\n    Math.round(b * 255),\n  ];\n};\n\n/**\n * Determines whether the RGB color is light or not\n * http://www.w3.org/TR/AERT#color-contrast\n * @param  {number}  r               Red\n * @param  {number}  g               Green\n * @param  {number}  b               Blue\n * @param  {number}  differencePoint\n * @return {boolean}\n */\nconst rgbIsLight = (r, g, b, differencePoint) => ((r * 299) + (g * 587) + (b * 114)) / 1000 >= differencePoint; // eslint-disable-line max-len\n\n/**\n * Converts an HSL color to string format\n * @param  {number} h Hue\n * @param  {number} s Saturation\n * @param  {number} l Lightness\n * @return {string}\n */\nconst hslToString = (h, s, l) => `hsl(${h}, ${s}%, ${l}%)`;\n\n/**\n * Converts RGB color to string format\n * @param  {number}  r      Red\n * @param  {number}  g      Green\n * @param  {number}  b      Blue\n * @param  {string}  format Color format\n * @return {string}\n */\nconst rgbFormat = (r, g, b, format) => {\n  switch (format) {\n    case 'rgb':\n      return `rgb(${r}, ${g}, ${b})`;\n    case 'hex':\n    default:\n      return `#${pad2(r.toString(16))}${pad2(g.toString(16))}${pad2(b.toString(16))}`;\n  }\n};\n\n/**\n * Generate unique color from `value`\n * @param  {string|number} value\n * @param  {Object}        [options={}]\n * @param  {string}        [options.format='hex']\n *  The color format, it can be one of `hex`, `rgb` or `hsl`\n * @param  {number|Array}  [options.saturation=[50, 55]]\n *  Determines the color saturation, it can be a number or a range between 0 and 100\n * @param  {number|Array}  [options.lightness=[50, 60]]\n *  Determines the color lightness, it can be a number or a range between 0 and 100\n * @param  {number}        [options.differencePoint=130]\n *  Determines the color brightness difference point. We use it to obtain the `isLight` value\n *  in the output, it can be a number between 0 and 255\n * @return {Object}\n * @example\n *\n * ```js\n * uniqolor('Hello world!')\n * // { color: \"#5cc653\", isLight: true }\n *\n * uniqolor('Hello world!', { format: 'rgb' })\n * // { color: \"rgb(92, 198, 83)\", isLight: true }\n *\n * uniqolor('Hello world!', {\n *   saturation: 30,\n *   lightness: [70, 80],\n * })\n * // { color: \"#afd2ac\", isLight: true }\n *\n * uniqolor('Hello world!', {\n *   saturation: 30,\n *   lightness: [70, 80],\n *   differencePoint: 200,\n * })\n * // { color: \"#afd2ac\", isLight: false }\n * ```\n */\nconst uniqolor = (value, {\n  format = 'hex',\n  saturation = [50, 55],\n  lightness = [50, 60],\n  differencePoint = 130,\n} = {}) => {\n  const hash = Math.abs(hashCode(String(value)));\n  const h = boundHashCode(hash, [0, 360]);\n  const s = boundHashCode(hash, sanitizeRange(saturation, SATURATION_BOUND));\n  const l = boundHashCode(hash, sanitizeRange(lightness, LIGHTNESS_BOUND));\n  const [r, g, b] = hslToRgb(h, s, l);\n\n  return {\n    color: format === 'hsl'\n      ? hslToString(h, s, l)\n      : rgbFormat(r, g, b, format),\n    isLight: rgbIsLight(r, g, b, differencePoint),\n  };\n};\n\n/**\n * Generate random color\n * @param  {Object}       [options={}]\n * @param  {string}       [options.format='hex']\n *  The color format, it can be one of `hex`, `rgb` or `hsl`\n * @param  {number|Array} [options.saturation=[50, 55]]\n *  Determines the color saturation, it can be a number or a range between 0 and 100\n * @param  {number|Array} [options.lightness=[50, 60]]\n *  Determines the color lightness, it can be a number or a range between 0 and 100\n * @param  {number}       [options.differencePoint=130]\n *  Determines the color brightness difference point. We use it to obtain the `isLight` value\n *  in the output, it can be a number between 0 and 255\n * @param  {Array}        [options.excludeHue]\n *  Exclude certain hue ranges. For example to exclude red color range: `[[0, 20], [325, 359]]`\n * @return {Object}\n * @example\n *\n * ```js\n * // Generate random color\n * uniqolor.random()\n * // { color: \"#644cc8\", isLight: false }\n *\n * // Generate a random color with HSL format\n * uniqolor.random({ format: 'hsl' })\n * // { color: \"hsl(89, 55%, 60%)\", isLight: true }\n *\n * // Generate a random color in specific saturation and lightness\n * uniqolor.random({\n *   saturation: 80,\n *   lightness: [70, 80],\n * })\n * // { color: \"#c7b9da\", isLight: true }\n *\n * // Generate a random color but exclude red color range\n * uniqolor.random({\n *   excludeHue: [[0, 20], [325, 359]],\n * })\n * // {color: '#53caab', isLight: true}\n * ```\n */\nuniqolor.random = ({\n  format = 'hex',\n  saturation = [50, 55],\n  lightness = [50, 60],\n  differencePoint = 130,\n  excludeHue,\n} = {}) => {\n  saturation = sanitizeRange(saturation, SATURATION_BOUND);\n  lightness = sanitizeRange(lightness, LIGHTNESS_BOUND);\n\n  const h = excludeHue ? randomExclude(0, 359, excludeHue) : random(0, 359);\n  const s = typeof saturation === 'number'\n    ? saturation\n    : random(...saturation);\n  const l = typeof lightness === 'number'\n    ? lightness\n    : random(...lightness);\n  const [r, g, b] = hslToRgb(h, s, l);\n\n  return {\n    color: format === 'hsl'\n      ? hslToString(h, s, l)\n      : rgbFormat(r, g, b, format),\n    isLight: rgbIsLight(r, g, b, differencePoint),\n  };\n};\n\nexport default uniqolor;\n"],"names":["SATURATION_BOUND","LIGHTNESS_BOUND","pad2","str","length","concat","clamp","num","min","max","Math","random","floor","randomExclude","exclude","r","i","value","hashCode","len","hash","charCodeAt","boundHashCode","range","abs","sanitizeRange","bound","apply","_toConsumableArray","hueToRgb","p","q","t","hslToRgb","h","s","l","g","b","round","rgbIsLight","differencePoint","hslToString","rgbFormat","format","toString","uniqolor","_ref","arguments","undefined","_ref$format","_ref$saturation","saturation","_ref$lightness","lightness","_ref$differencePoint","String","_hslToRgb","_hslToRgb2","_slicedToArray","color","isLight","_ref2","_ref2$format","_ref2$saturation","_ref2$lightness","_ref2$differencePoint","excludeHue","_hslToRgb3","_hslToRgb4"],"mappings":"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"}